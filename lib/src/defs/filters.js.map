{"version":3,"sources":["../../../src/defs/filters.js"],"names":["filters","time","encode","value","length","valuetest","substr","Date","result","getUTCFullYear","toString","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","decode","match","forEach","method","i","century","replace","diff","setMinutes","getMinutes","message","Buffer","isBuffer","encoding","encodings","detect","data_coding","constants","ENCODING","udh","esm_class","ESM_CLASS","UDH_INDICATOR","concat","default","sencoding","Object","keys","find","item","udhi","slice","billing_identification","data","writeUInt8","format","copy","readUInt8","broadcast_area_identifier","BROADCAST_AREA_FORMAT","NAME","broadcast_content_type","network","writeUInt16BE","content_type","readUInt16BE","broadcast_frequency_interval","unit","interval","callback_num","number","digit_mode","ton","npi","write","callback_num_atag","display"],"mappings":"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","sourcesContent":["/* eslint-disable no-param-reassign,camelcase,object-shorthand*/\n\nimport { encodings } from './encodings';\nimport { constants } from './constants';\n\nconst filters = {};\n\nfilters.time = {\n  encode: (value) => {\n    if (!value) {\n      return value;\n    }\n    if (typeof value === 'string') {\n      if (value.length <= 12) {\n        // value = ('000000000000' + value).substr(-12) + '000R';\n        const valuetest = `000000000000${value}`.substr(-12);\n        return `${valuetest}000R`;\n      }\n      return value;\n    }\n    if (value instanceof Date) {\n      let result = value\n        .getUTCFullYear()\n        .toString()\n        .substr(-2);\n      result += `0${value.getUTCMonth() + 1}`.substr(-2);\n      result += `0${value.getUTCDate()}`.substr(-2);\n      result += `0${value.getUTCHours()}`.substr(-2);\n      result += `0${value.getUTCMinutes()}`.substr(-2);\n      result += `0${value.getUTCSeconds()}`.substr(-2);\n      result += `00${value.getUTCMilliseconds()}`.substr(-3, 1);\n      result += '00+';\n      return result;\n    }\n    return value;\n  },\n  decode: (value) => {\n    if (!value || typeof value !== 'string') {\n      return value;\n    }\n    if (value.substr(-1) === 'R') {\n      const result = new Date();\n      const match = value.match(/^(..)(..)(..)(..)(..)(..).*$/);\n      ['FullYear', 'Month', 'Date', 'Hours', 'Minutes', 'Seconds'].forEach(\n        (method, i) => {\n          result[`set${method}`](result[`get${method}`]() + +match[++i]);\n        },\n      );\n      return result;\n    }\n    const century = `000${new Date().getUTCFullYear()}`.substr(-4, 2);\n    const result = new Date(\n      value.replace(\n        /^(..)(..)(..)(..)(..)(..)(.)?.*$/,\n        `${century}$1-$2-$3 $4:$5:$6:$700 UTC`,\n      ),\n    );\n    const match = value.match(/(..)([-+])$/);\n    if (match && match[1] !== '00') {\n      let diff = match[1] * 15;\n      if (match[2] === '+') {\n        diff = -diff;\n      }\n      result.setMinutes(result.getMinutes() + diff);\n    }\n    return result;\n  },\n};\n\nfilters.message = {\n  encode: function(value) {\n    if (Buffer.isBuffer(value)) {\n      return value;\n    }\n    let message = typeof value === 'string' ? value : value.message;\n    if (typeof message === 'string') {\n      const encoding = encodings.detect(message);\n      if (message && this.data_coding === null) {\n        this.data_coding = constants.ENCODING[encoding];\n      }\n      message = encodings[encoding].encode(message);\n    }\n    if (!value.udh || !value.udh.length) {\n      return message;\n    }\n    if ('esm_class' in this) {\n      this.esm_class = this.esm_class | constants.ESM_CLASS.UDH_INDICATOR;\n    }\n    return Buffer.concat([value.udh, message]);\n  },\n  decode: function(value) {\n    if (!Buffer.isBuffer(value) || !('data_coding' in this)) {\n      return value;\n    }\n    let encoding = this.data_coding & 0x0f;\n    if (!encoding) {\n      encoding = encodings.default;\n    } else {\n      const sencoding = Object.keys(constants.ENCODING).find(\n        (item) => constants.ENCODING[item] === encoding,\n      );\n      encoding = sencoding;\n      // for (var key in constants.ENCODING) {\n      //   if (constants.ENCODING[key] == encoding) {\n      //     encoding = key;\n      //     break;\n      //   }\n      // }\n    }\n    const udhi = this.esm_class & constants.ESM_CLASS.UDH_INDICATOR;\n    const result = {};\n    if (value.length && udhi) {\n      result.udh = value.slice(0, value[0] + 1);\n      result.message = value.slice(value[0] + 1);\n    } else {\n      result.message = value;\n    }\n    if (encodings[encoding]) {\n      result.message = encodings[encoding].decode(result.message);\n    }\n    return result;\n  },\n};\n\nfilters.billing_identification = {\n  encode: (value) => {\n    if (Buffer.isBuffer(value)) {\n      return value;\n    }\n    const result = new Buffer(value.data.length + 1);\n    result.writeUInt8(value.format, 0);\n    value.data.copy(result, 1);\n    return result;\n  },\n  decode: (value) => {\n    if (!Buffer.isBuffer(value)) {\n      return value;\n    }\n    return {\n      format: value.readUInt8(0),\n      data: value.slice(1),\n    };\n  },\n};\n\nfilters.broadcast_area_identifier = {\n  encode: (value) => {\n    if (Buffer.isBuffer(value)) {\n      return value;\n    }\n    if (typeof value === 'string') {\n      value = {\n        format: constants.BROADCAST_AREA_FORMAT.NAME,\n        data: value,\n      };\n    }\n    if (typeof value.data === 'string') {\n      value.data = new Buffer(value.data, 'ascii');\n    }\n    const result = new Buffer(value.data.length + 1);\n    result.writeUInt8(value.format, 0);\n    value.data.copy(result, 1);\n    return result;\n  },\n  decode: (value) => {\n    if (!Buffer.isBuffer(value)) {\n      return value;\n    }\n    const result = {\n      format: value.readUInt8(0),\n      data: value.slice(1),\n    };\n    if (result.format === constants.BROADCAST_AREA_FORMAT.NAME) {\n      result.data = result.data.toString('ascii');\n    }\n    return result;\n  },\n};\n\nfilters.broadcast_content_type = {\n  encode: (value) => {\n    if (Buffer.isBuffer(value)) {\n      return value;\n    }\n    const result = new Buffer(3);\n    result.writeUInt8(value.network, 0);\n    result.writeUInt16BE(value.content_type, 1);\n    return result;\n  },\n  decode: (value) => {\n    if (!Buffer.isBuffer(value)) {\n      return value;\n    }\n    return {\n      network: value.readUInt8(0),\n      content_type: value.readUInt16BE(1),\n    };\n  },\n};\n\nfilters.broadcast_frequency_interval = {\n  encode: (value) => {\n    if (Buffer.isBuffer(value)) {\n      return value;\n    }\n    const result = new Buffer(3);\n    result.writeUInt8(value.unit, 0);\n    result.writeUInt16BE(value.interval, 1);\n    return result;\n  },\n  decode: (value) => {\n    if (!Buffer.isBuffer(value)) {\n      return value;\n    }\n    return {\n      unit: value.readUInt8(0),\n      interval: value.readUInt16BE(1),\n    };\n  },\n};\n\nfilters.callback_num = {\n  encode: (value) => {\n    if (Buffer.isBuffer(value)) {\n      return value;\n    }\n    const result = new Buffer(value.number.length + 3);\n    result.writeUInt8(value.digit_mode || 0, 0);\n    result.writeUInt8(value.ton || 0, 1);\n    result.writeUInt8(value.npi || 0, 2);\n    result.write(value.number, 3, 'ascii');\n    return result;\n  },\n  decode: (value) => {\n    if (!Buffer.isBuffer(value)) {\n      return value;\n    }\n    return {\n      digit_mode: value.readUInt8(0),\n      ton: value.readUInt8(1),\n      npi: value.readUInt8(2),\n      number: value.toString('ascii', 3),\n    };\n  },\n};\n\nfilters.callback_num_atag = {\n  encode: (value) => {\n    if (Buffer.isBuffer(value)) {\n      return value;\n    }\n    const result = new Buffer(value.display.length + 1);\n    result.writeUInt8(value.encoding, 0);\n    if (typeof value.display === 'string') {\n      value.display = new Buffer(value.display, 'ascii');\n    }\n    value.display.copy(result, 1);\n    return result;\n  },\n  decode: (value) => {\n    if (!Buffer.isBuffer(value)) {\n      return value;\n    }\n    return {\n      encoding: value.readUInt8(0),\n      display: value.slice(1),\n    };\n  },\n};\n\nexport { filters };\n"],"file":"filters.js"}