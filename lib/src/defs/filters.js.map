{"version":3,"sources":["../../../src/defs/filters.js"],"names":["filters","time","encode","value","length","valuetest","substr","Date","result","getUTCFullYear","toString","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","decode","match","forEach","method","i","century","replace","diff","setMinutes","getMinutes","message","Buffer","isBuffer","encoding","encodings","detect","data_coding","constants","ENCODING","udh","esm_class","ESM_CLASS","UDH_INDICATOR","concat","default","sencoding","Object","keys","find","item","udhi","slice","billing_identification","data","writeUInt8","format","copy","readUInt8","broadcast_area_identifier","BROADCAST_AREA_FORMAT","NAME","broadcast_content_type","network","writeUInt16BE","content_type","readUInt16BE","broadcast_frequency_interval","unit","interval","callback_num","number","digit_mode","ton","npi","write","callback_num_atag","display"],"mappings":"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","sourcesContent":["/* eslint-disable no-param-reassign,camelcase,object-shorthand*/\n\nimport { encodings } from './encodings';\nimport { constants } from './constants';\n\nconst filters = {};\n\nfilters.time = {\n  encode: (value) => {\n    if (!value) {\n      return value;\n    }\n    if (typeof value === 'string') {\n      if (value.length <= 12) {\n        // value = ('000000000000' + value).substr(-12) + '000R';\n        const valuetest = `000000000000${value}`.substr(-12);\n        return `${valuetest}000R`;\n      }\n      return value;\n    }\n    if (value instanceof Date) {\n      let result = value\n        .getUTCFullYear()\n        .toString()\n        .substr(-2);\n      result += `0${value.getUTCMonth() + 1}`.substr(-2);\n      result += `0${value.getUTCDate()}`.substr(-2);\n      result += `0${value.getUTCHours()}`.substr(-2);\n      result += `0${value.getUTCMinutes()}`.substr(-2);\n      result += `0${value.getUTCSeconds()}`.substr(-2);\n      result += `00${value.getUTCMilliseconds()}`.substr(-3, 1);\n      result += '00+';\n      return result;\n    }\n    return value;\n  },\n  decode: (value) => {\n    if (!value || typeof value !== 'string') {\n      return value;\n    }\n    if (value.substr(-1) === 'R') {\n      const result = new Date();\n      const match = value.match(/^(..)(..)(..)(..)(..)(..).*$/);\n      ['FullYear', 'Month', 'Date', 'Hours', 'Minutes', 'Seconds'].forEach(\n        (method, i) => {\n          result[`set${method}`](result[`get${method}`]() + +match[++i]);\n        },\n      );\n      return result;\n    }\n    const century = `000${new Date().getUTCFullYear()}`.substr(-4, 2);\n    const result = new Date(\n      value.replace(\n        /^(..)(..)(..)(..)(..)(..)(.)?.*$/,\n        `${century}$1-$2-$3 $4:$5:$6:$700 UTC`,\n      ),\n    );\n    const match = value.match(/(..)([-+])$/);\n    if (match && match[1] !== '00') {\n      let diff = match[1] * 15;\n      if (match[2] === '+') {\n        diff = -diff;\n      }\n      result.setMinutes(result.getMinutes() + diff);\n    }\n    return result;\n  },\n};\n\nfilters.message = {\n  encode: function(value) {\n    if (Buffer.isBuffer(value)) {\n      return value;\n    }\n    let message = typeof value === 'string' ? value : value.message;\n    if (typeof message === 'string') {\n      const encoding = encodings.detect(message);\n      if (message && this.data_coding === null) {\n        this.data_coding = constants.ENCODING[encoding];\n      }\n      message = encodings[encoding].encode(message);\n    }\n    if (!value.udh || !value.udh.length) {\n      return message;\n    }\n    if ('esm_class' in this) {\n      this.esm_class = this.esm_class | constants.ESM_CLASS.UDH_INDICATOR;\n    }\n    return Buffer.concat([value.udh, message]);\n  },\n  decode: function(value) {\n    if (!Buffer.isBuffer(value) || !('data_coding' in this)) {\n      return value;\n    }\n    let encoding = this.data_coding & 0x0f;\n    if (!encoding) {\n      encoding = encodings.default;\n    } else {\n      const sencoding = Object.keys(constants.ENCODING).find(\n        (item) => constants.ENCODING[item] === encoding,\n      );\n      encoding = sencoding;\n      // for (var key in constants.ENCODING) {\n      //   if (constants.ENCODING[key] == encoding) {\n      //     encoding = key;\n      //     break;\n      //   }\n      // }\n    }\n    const udhi = this.esm_class & constants.ESM_CLASS.UDH_INDICATOR;\n    const result = {};\n    if (value.length && udhi) {\n      result.udh = value.slice(0, value[0] + 1);\n      result.message = value.slice(value[0] + 1);\n    } else {\n      result.message = value;\n    }\n    if (encodings[encoding]) {\n      result.message = encodings[encoding].decode(result.message);\n    }\n    return result;\n  },\n};\n\nfilters.billing_identification = {\n  encode: (value) => {\n    if (Buffer.isBuffer(value)) {\n      return value;\n    }\n    const result = new Buffer(value.data.length + 1);\n    result.writeUInt8(value.format, 0);\n    value.data.copy(result, 1);\n    return result;\n  },\n  decode: (value) => {\n    if (!Buffer.isBuffer(value)) {\n      return value;\n    }\n    return {\n      format: value.readUInt8(0),\n      data: value.slice(1),\n    };\n  },\n};\n\nfilters.broadcast_area_identifier = {\n  encode: (value) => {\n    if (Buffer.isBuffer(value)) {\n      return value;\n    }\n    if (typeof value === 'string') {\n      value = {\n        format: constants.BROADCAST_AREA_FORMAT.NAME,\n        data: value,\n      };\n    }\n    if (typeof value.data === 'string') {\n      value.data = new Buffer(value.data, 'ascii');\n    }\n    const result = new Buffer(value.data.length + 1);\n    result.writeUInt8(value.format, 0);\n    value.data.copy(result, 1);\n    return result;\n  },\n  decode: (value) => {\n    if (!Buffer.isBuffer(value)) {\n      return value;\n    }\n    const result = {\n      format: value.readUInt8(0),\n      data: value.slice(1),\n    };\n    if (result.format === constants.BROADCAST_AREA_FORMAT.NAME) {\n      result.data = result.data.toString('ascii');\n    }\n    return result;\n  },\n};\n\nfilters.broadcast_content_type = {\n  encode: (value) => {\n    if (Buffer.isBuffer(value)) {\n      return value;\n    }\n    const result = new Buffer(3);\n    result.writeUInt8(value.network, 0);\n    result.writeUInt16BE(value.content_type, 1);\n    return result;\n  },\n  decode: (value) => {\n    if (!Buffer.isBuffer(value)) {\n      return value;\n    }\n    return {\n      network: value.readUInt8(0),\n      content_type: value.readUInt16BE(1),\n    };\n  },\n};\n\nfilters.broadcast_frequency_interval = {\n  encode: (value) => {\n    if (Buffer.isBuffer(value)) {\n      return value;\n    }\n    const result = new Buffer(3);\n    result.writeUInt8(value.unit, 0);\n    result.writeUInt16BE(value.interval, 1);\n    return result;\n  },\n  decode: (value) => {\n    if (!Buffer.isBuffer(value)) {\n      return value;\n    }\n    return {\n      unit: value.readUInt8(0),\n      interval: value.readUInt16BE(1),\n    };\n  },\n};\n\nfilters.callback_num = {\n  encode: (value) => {\n    if (Buffer.isBuffer(value)) {\n      return value;\n    }\n    const result = new Buffer(value.number.length + 3);\n    result.writeUInt8(value.digit_mode || 0, 0);\n    result.writeUInt8(value.ton || 0, 1);\n    result.writeUInt8(value.npi || 0, 2);\n    result.write(value.number, 3, 'ascii');\n    return result;\n  },\n  decode: (value) => {\n    if (!Buffer.isBuffer(value)) {\n      return value;\n    }\n    return {\n      digit_mode: value.readUInt8(0),\n      ton: value.readUInt8(1),\n      npi: value.readUInt8(2),\n      number: value.toString('ascii', 3),\n    };\n  },\n};\n\nfilters.callback_num_atag = {\n  encode: (value) => {\n    if (Buffer.isBuffer(value)) {\n      return value;\n    }\n    const result = new Buffer(value.display.length + 1);\n    result.writeUInt8(value.encoding, 0);\n    if (typeof value.display === 'string') {\n      value.display = new Buffer(value.display, 'ascii');\n    }\n    value.display.copy(result, 1);\n    return result;\n  },\n  decode: (value) => {\n    if (!Buffer.isBuffer(value)) {\n      return value;\n    }\n    return {\n      encoding: value.readUInt8(0),\n      display: value.slice(1),\n    };\n  },\n};\n\nexport { filters };\n"],"file":"filters.js"}